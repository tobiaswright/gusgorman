---
export interface Props {
  name?: string;
  alias?: string;
  title?: string;
  media?: string;
  actor?: string;
}

interface GetInfo {
  id: string;
  imageSrc: string;
  charName: string;
}

const { alias, name, title, media, actor } = Astro.props;

let transformName = (name: string): string => {
  return name.split(" ").join("-").toLowerCase();
};

let returnPayload = (charName: string): GetInfo => {
  let id = transformName(charName);
  let imageSrc = "./images/" + id + ".jpg";
  return { id, imageSrc, charName };
};

let GetInfo = (): GetInfo => {
  let id = "";
  let imageSrc = "";
  let charName = "";

  if (alias) {
    return returnPayload(alias);
  }
  if (name) {
    return returnPayload(name);
  }

  return { id, imageSrc, charName };
};

let { id, imageSrc, charName } = GetInfo();
---

<img class="w-auto" src={imageSrc} id={id} />
<h3 class="text-lg">{charName} in {title}</h3>
<ul>
  <li class="text-sm">Media: {media}</li>
  <li class="text-sm">Portrayed by: {actor}</li>
</ul>
